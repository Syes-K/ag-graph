<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" type="text/css" href="../../assets/css/reset.css">
  <link rel="stylesheet" type="text/css" href="../../assets/css/style.css">
  <link rel="stylesheet" type="text/css" href="../../assets/pluginunit/ag-graph/ag-graph.css">
  <link rel="stylesheet" type="text/css" href="../../assets/pluginunit/codemirror/codemirror.css">
  <link rel="stylesheet" type="text/css" href="../../assets/pluginunit/codemirror/monokai.css">
  <style>
    html, body {
      height: 100%;
    }
    * {
      font-weight: 400;
    }
  </style>
</head>
<body>
<!-- 示例 -->
<div class="aigo-simple-code-box aigo-simple-example">
  <div class="title">
    <span class="big-font">连线curve类型</span>
    <span class="small-font">添加line时候配置lineType: "curve", 可以实现贝塞尔曲线的效果</span>
  </div>
  <div class="content content-top" id="ag-graph-container">
    <!-- 容器 -->
  </div>
</div>
<!-- 代码 -->
<div class="aigo-simple-code-box">
  <div class="header">示例代码
    <a href="javascript:void(0)" class="run-btn">运行</a>
  </div>
  <div class="content content-bottom" id="ag-graph-code">
<textarea id="code" name="code">
// 初始化
var agGraph = new AgGraph({container: "#ag-graph-container"});
// 添加节点1
var node1 = agGraph.addNode({id: "n1", x: -70, y: -80, size: 48, image: "../../assets/img/example/pc.svg"});
var node2 = agGraph.addNode({id: "n2", x: 60, y: 60,  size: 48,  image: "../../assets/img/example/server.svg"});

var line1 = agGraph.addLine({
  id:"l1",
  source: "n1", // 源节点id
  target: "n2", // 目标节点id
  lineType: "line", // 默认线型
  animate: true
});
var line2 = agGraph.addLine({
  id:"l2",
  source: "n1", // 源节点id
  target: "n2", // 目标节点id
  lineType: "curve", // 曲线
  pointsData:[
  {x:-51,y:-59.5},
  {x:-51,y: 39.5},
  {x:41,y:39.5}
],
  animate: true
});
// 在编辑模式下，移动连线上的点，或者双击连线 看看效果
agGraph.startEdit();
</textarea>
  </div>
</div>
<script src="../../assets/js/jquery-2.1.0.min.js"></script>
<script src="../../assets/pluginunit/codemirror/codemirror.js"></script>
<script src="../../assets/pluginunit/codemirror/mode/javascript/javascript.js"></script>
<script src="../../assets/pluginunit/codemirror/addon/selection/active-line.js"></script>
<script src="../../assets/pluginunit/codemirror/addon/edit/matchbrackets.js"></script>
<script>
  var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
    lineNumbers: true,
    styleActiveLine: true,
    matchBrackets: true
  });
  editor.setOption("theme", "monokai");
</script>
<script src="../../assets/js/d3.js"></script>
<script src="../../assets/pluginunit/ag-graph/ag-graph.min.js"></script>
<script>

  $('.run-btn').on('click', function(e) {
      var code = editor.getValue();
      var fn = new Function(code);
      fn();
  });
  $('.run-btn').click();

</script>
</body>
</html>
