<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>ag-graph</title>
  <link rel="stylesheet" href="./css/bootstrap.css">
  <style lang="">
    /*pre {
      background-color: #eee;
      padding: 10px;
      border-radius: 5;
    }
    code {
      background-color: #eee;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    ul li::before{
      content: "- "
    }*/
  </style>
</head>
<body>
  <div id="readme.md.container">
    <!--readme.md-start--><h1>Ag Graph</h1>
<p>一个基于点d3构建的svg graph 图形绘制框架</p>
<h2>快速构建</h2>
<ul>
<li>引入d3 4.0.0 以上版本</li>
</ul>
<pre><code class="language-html">&lt;script src=&quot;https://cdn.bootcss.com/d3/4.11.0/d3.js&quot;&gt;&lt;/script&gt;
</code></pre>
<ul>
<li>在页面中引入ag-grpah 样式和脚本</li>
</ul>
<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;文件所在目录/ag-graph.css&quot;&gt;
&lt;script src=&quot;文件所在目录/ag-graph.js&quot;&gt;&lt;/script&gt;
</code></pre>
<ul>
<li>在html中需要一个graph的容器</li>
</ul>
<pre><code class="language-html">&lt;div id=&quot;graph-container&quot;&gt;&lt;/div&gt;
</code></pre>
<ul>
<li>js中构建graph</li>
</ul>
<pre><code class="language-javascript">var agGraph = new AgGraph({ container: &quot;#graph-container&quot; }); // 创建agGraph实例
// 添加一个节点 可以用变量接受添加的节点以便后续的处理
var node1 = agGraph.addNode({
    id: &quot;n1&quot;,
    x: 0, y: 0, // 位置信息
    size: 40, // 大小
    image: &quot;./images/plus.jpg&quot;, // 节点显示的图片的路径。根据您的项目实际情况修改
    text: &quot;plus&quot;, // 节点显示的文本
    badge: &quot;99&quot; // 徽章文本
});
// 再添加几个节点
agGraph.addNode({ id: &quot;n2&quot;, x: -50, y: 100, size: 40, image: &quot;./images/plus.jpg&quot;, badge: &quot;99&quot; });
agGraph.addNode({ id: &quot;n3&quot;, x: -150, y: -100, size: 40, image: &quot;./images/plus.jpg&quot; });
agGraph.addNode({ id: &quot;n4&quot;, x: 100, y: 0, size: 50, image: &quot;./images/message.jpg&quot; });

添加一条连线
var line1 = agGraph.addLine({
    id: &quot;l1&quot;,
    source: &quot;n2&quot;, // 连线的开始节点
    target: &quot;n3&quot;, // 连线的结束节点
    animate: true // 绘制连线的时候是否开启动画
});
</code></pre>
<h2>API</h2>
<h3>AgGraph</h3>
<p>用来创建AgGraph实例，在创建的实例上才能进行node，line 的各种操作。</p>
<h6>创建AgGraph实例</h6>
<ul>
<li>输入 config</li>
</ul>
<pre><code>{
    &quot;container&quot;: string // dom元素选择器
}
</code></pre>
<ul>
<li>输出 <code>AgGraph</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var agGraph = new AgGraph({ container: &quot;#graph-container&quot; })
</code></pre>
<h3>AgGraph实例对象方法</h3>
<p>AgGraph实例对象可以用来创建节点，连线，等</p>
<h5>addNode</h5>
<pre><code>添加节点
</code></pre>
<ul>
<li>输入 nodeData</li>
</ul>
<pre><code>{
	&quot;id&quot;: string, // 节点id
    &quot;x&quot;: number, // 节点在graph中的后坐标位置
    &quot;y&quot;: number, // 节点在graph中的纵坐标位置
    &quot;size&quot;: number, // 节点的大小
    &quot;image&quot;: string, // 节点显示的图片(svg图片效果更佳)
    &quot;text&quot;: string, // 节点显示的文本
    &quot;badge&quot;: string, // 节点位置文本
}
</code></pre>
<ul>
<li>输出 <code>AgGraphNode</code> (参考AgGraphNode实例 api)</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2 = agGraph.addNode({
    id: &quot;n2&quot;,
    x: -50, y: 100, size: 40,
    image: &quot;./images/plus.jpg&quot;, badge: &quot;99&quot;,
    customAttr1:{someProperty1: &quot;some value&quot;}
});
console.log(node2);
</code></pre>
<h5>getNode</h5>
<p>通过id获取节点</p>
<ul>
<li>输入 <code>id:string</code></li>
<li>输出 <code>AgGraphNode</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2 = agGraph.getNode(&quot;n2&quot;);
console.log(node2);
</code></pre>
<h5>getNeighborNodes</h5>
<p>获取node节点相邻的节点</p>
<ul>
<li>输入 <code>node:AgGraphNode</code></li>
<li>输出 <code>AgGraphNode[]</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2 = agGraph.getNeighborNodes(&quot;n2&quot;);
var neighbors = agGraph.getNode(node2);
console.log(neighbors);
</code></pre>
<h5>addLine</h5>
<p>添加连线</p>
<ul>
<li>输入 lineData</li>
</ul>
<pre><code>{
    &quot;id&quot;:string, // 连线id
    &quot;source&quot;: string, // 连线的开始节点id
    &quot;target&quot;: string, // 连线的结束节点id
    &quot;animate&quot;: boolean, // 是否使用动画来绘制连线
    &quot;class&quot;: string[], // 连线的自定义样式(参考自定义样式api)
    &quot;text&quot;: string, // 连线的文本
    &quot;pointsData&quot;: {&quot;x&quot;:number,&quot;y&quot;:number}[], // 连线上的各个点位置(如果不设置，则通过source和target对应的node自动生成)
}
</code></pre>
<ul>
<li>输出 <code>AgGraphLine</code></li>
<li>例</li>
</ul>
<pre><code class="language-css">.ag-graph-line.hot-line polyline {
  stroke: #49ac19;
}
</code></pre>
<pre><code class="language-javascript">agGraph.addNode({
    id: &quot;n1&quot;,
    x: 0, y: 0, size: 40,
    image: &quot;./images/plus.jpg&quot;, text: &quot;plus&quot;
});
agGraph.addNode({
    id: &quot;n2&quot;,
    x: -50, y: 100, size: 40,
    image: &quot;./images/plus.jpg&quot;, badge: &quot;99&quot;
});
var line1 = agGraph.addLine({
    id: &quot;l1&quot;, source: &quot;n1&quot;,
    target: &quot;n2&quot;,class:[&quot;hot-line&quot;],
    animate: true,
    text: &quot;有关系&quot;,
    customAttr1:{someProperty1: &quot;some value&quot;}
});
console.log(line1);
</code></pre>
<h5>getLine</h5>
<p>通过id获取连线</p>
<ul>
<li>输入 <code>id:string</code></li>
<li>输出 <code>AgGraphLine</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line1 = agGraph.getLine(&quot;l1&quot;);
console.log(line1);
</code></pre>
<h5>startEdit</h5>
<p>开启编辑模式(可以一点节点和连线上的点)</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.startEdit();
</code></pre>
<h5>endEdit</h5>
<p>结束编辑模式</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.endEdit();
</code></pre>
<h5>isEditing</h5>
<p>获取是否agGraph是否是编辑状态</p>
<ul>
<li>输入 无</li>
<li>输出 <code>boolean</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">console.log(agGraph.isEditing());
</code></pre>
<h5>addPath</h5>
<p>添加一条移动的路径</p>
<ul>
<li>输入 pathData</li>
</ul>
<pre><code class="language-json">{
    &quot;id&quot;: string, // path id
    &quot;source&quot;: string, // path 的开始节点id
    &quot;target&quot;: string, // path的结束节点id
    &quot;repeat&quot;: boolean, // 是否重复播放移动的动画
    &quot;class&quot;: string[] // 自定义的class
}
</code></pre>
<ul>
<li>输出 <code>AgGraphPath</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.addPath({
    id: &quot;p1&quot;,
    source: &quot;n1&quot;,
    target: &quot;n3&quot;,
    repeat: false,
    class: [&quot;status-1&quot;]
});
</code></pre>
<h5>getPath</h5>
<p>通过id获取连线</p>
<ul>
<li>输入 <code>id:string</code></li>
<li>输出 <code>AgGraphPath</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var path1 = agGraph.getPath(&quot;p1&quot;);
console.log(path1);
</code></pre>
<h5>getNodesData</h5>
<p>获取节点的数据</p>
<ul>
<li>输入 <code>callback:(node:AgGraphNode)=&gt;any</code> // 将AgGraphNode转换成需要的数据回调函数</li>
<li>输出 <code>any[]</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var data = agGraph.getNodesData(function(node){
    var nodeData = {
        id: node.id,
        position: [node.x,node.y],
        size: node.size,
        customAttr1:node.customAttr1
    }
    return nodeData;
});
console.log(data);
</code></pre>
<h5>getLinesData</h5>
<p>获取连线的数据</p>
<ul>
<li>输入 <code>callback:(line:AgGraphLine)=&gt;any</code> // 将AgGraphLine转换成需要的数据回调函数</li>
<li>输出 <code>any[]</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var data = agGraph.getLinesData(function(line){
    var lineData = {
        id: line.id,
        points:line.pointsData,
        source:line.source,
        target:line.target,
    };
    return lineData;
});
console.log(data);
</code></pre>
<h3>AgGraph实例对象属性</h3>
<p>可以直接获取AgGraph实例对象的所有node，所有line，选中的各个对象(node，line，point),以及view(整体graph的视图)</p>
<h5>agGraph.view</h5>
<ul>
<li>输出 <code>AgGraphView</code> //参考AgGraphView实例api</li>
</ul>
<h5>agGraph.selection</h5>
<ul>
<li>输出 <code>AgGraphSelection</code> //参考AgGraphSelection实例api</li>
</ul>
<h5>agGraph.nodes</h5>
<ul>
<li>输出 <code>AgGraphNode[]</code> //agGraph上的所有AgGraphNode实例</li>
</ul>
<h5>agGraph.lines</h5>
<ul>
<li>输出 <code>AgGraphLine[]</code> //agGraph上的所有AgGraphLine实例</li>
</ul>
<h3>AgGraphView 实例方法</h3>
<h5>zoomIn:放大视图</h5>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.view.zoomIn();
</code></pre>
<h5>zoomOut:缩小视图</h5>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.view.zoomOut();
</code></pre>
<h5>move:方法视图</h5>
<ul>
<li>输入 移动的距离</li>
</ul>
<pre><code>{
    &quot;x&quot;:number, // x轴偏移量
    &quot;y&quot;:number // y轴偏移量
}
</code></pre>
<ul>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.view.move(20,10);
</code></pre>
<h3>AgGraphView实例属性</h3>
<h6>viewBox</h6>
<p>agGraph的视窗大小和偏移(相当于svg中的viewbox)</p>
<ul>
<li>输出</li>
</ul>
<pre><code>[
    number, // 视窗x轴偏移量
    number, // 视窗y轴偏移量
    number, // 视窗宽度
    number, // 视窗高度
]
</code></pre>
<ul>
<li>例</li>
</ul>
<pre><code class="language-javascript">console.log(agGraph.view.viewBox);
</code></pre>
<h6>scale</h6>
<p>agGraph的视窗放大缩小比率</p>
<ul>
<li>输出 <code>numebr</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">console.log(agGraph.view.scale);
</code></pre>
<h3>AgGraphSelection实例方法</h3>
<h5>nodes</h5>
<p>获取所有选中的node(按照选择的顺序排列)</p>
<ul>
<li>输入 无</li>
<li>输出 <code>AgGraphNode[]</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">console.log(agGraph.selection.nodes());
</code></pre>
<h5>addNode</h5>
<p>将node实例添加到选择状态中</p>
<ul>
<li>输入 <code>node:AgGraphNode|AgGraphNode[]</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node1=agGraph.getNode(&quot;n1&quot;)
var node2=agGraph.getNode(&quot;n2&quot;)
var node3=agGraph.getNode(&quot;n3&quot;)
agGraph.selection.addNode([node1,node2]);
agGraph.selection.addNode(node3);
</code></pre>
<h5>removeNode</h5>
<p>将node实例添加从选择状态中移除</p>
<ul>
<li>输入 <code>node:AgGraphNode|AgGraphNode[]</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2=agGraph.getNode(&quot;n2&quot;)
agGraph.selection.removeNode(node2);
agGraph.selection.removeNode(agGraph.selection.nodes);
</code></pre>
<h5>toggleNode</h5>
<p>切换node的选择状态</p>
<ul>
<li>输入 <code>node:AgGraphNode</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2=agGraph.getNode(&quot;n2&quot;)
agGraph.selection.toggleNode(node2);
</code></pre>
<h5>clearNodes</h5>
<p>清除所有node的选择状态</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.selection.clearNodes();
</code></pre>
<h5>lines</h5>
<p>获取所有选中的line(按照选择的顺序排列)</p>
<ul>
<li>输入 无</li>
<li>输出 <code>AgGraphLine[]</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">console.log(agGraph.selection.lines());
</code></pre>
<h5>addLine</h5>
<p>将line实例添加到选择状态中</p>
<ul>
<li>输入 <code>line:AgGraphLine</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line2=agGraph.getLine(&quot;l2&quot;)
agGraph.selection.addLine(line2);
</code></pre>
<h5>removeLine</h5>
<p>将line实例添加从选择状态中移除</p>
<ul>
<li>输入 <code>line:AgGraphLine</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line2=agGraph.getLine(&quot;l2&quot;)
agGraph.selection.removeLine(line2);
</code></pre>
<h5>toggleLine</h5>
<p>切换line的选择状态</p>
<ul>
<li>输入 <code>line:AgGraphLine</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line2=agGraph.getLine(&quot;l2&quot;)
agGraph.selection.toggleLine(line2);
</code></pre>
<h5>clearLines</h5>
<p>清除所有line的选择状态</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.selection.clearLines();
</code></pre>
<h5>points</h5>
<p>获取所有选中的point(按照选择的顺序排列)</p>
<ul>
<li>输入 无</li>
<li>输出 <code>AgGraphPoint[]</code></li>
<li>例</li>
</ul>
<pre><code class="language-javascript">console.log(agGraph.selection.points());
</code></pre>
<h5>addPoint</h5>
<p>将point实例添加到选择状态中</p>
<ul>
<li>输入 <code>point:AgGraphPoint</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line2=agGraph.getLine(&quot;l2&quot;)
agGraph.selection.addPoint(line2.points[0]);
</code></pre>
<h5>removePoint</h5>
<p>将point实例添加从选择状态中移除</p>
<ul>
<li>输入 <code>point:AgGraphPoint</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var selectedPoints=agGraph.selection.points()
agGraph.selection.removePoint(selectedPoints[0]);
</code></pre>
<h5>togglePoint</h5>
<p>切换point的选择状态</p>
<ul>
<li>输入 <code>point:AgGraphPoint</code></li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line2=agGraph.getLine(&quot;l2&quot;)
agGraph.selection.togglePoint(line2.points[0]);
</code></pre>
<h5>clearPoints</h5>
<p>清除所有point的选择状态</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.selection.clearPoints();
</code></pre>
<h3>AgGraphNode实例方法</h3>
<h5>delete</h5>
<p>删除node节点</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2=agGraph.getNode(&quot;n2&quot;);
node2.delete();
</code></pre>
<h5>offset</h5>
<p>获取node节点相对于浏览器视窗的偏移</p>
<ul>
<li>输入 无</li>
<li>输出</li>
</ul>
<pre><code>{
    &quot;x&quot;:number, // x轴方向偏移
    &quot;y&quot;:number // y轴方向偏移
}
</code></pre>
<ul>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2=agGraph.getNode(&quot;n2&quot;);
console.log(node2.offset());
</code></pre>
<h5>position</h5>
<p>获取node节点相对于定位父元素的偏移</p>
<ul>
<li>输入 无</li>
<li>输出</li>
</ul>
<pre><code>{
    &quot;x&quot;:number, // x轴方向偏移
    &quot;y&quot;:number // y轴方向偏移
}
</code></pre>
<ul>
<li>例</li>
</ul>
<pre><code class="language-javascript">var node2=agGraph.getNode(&quot;n2&quot;);
console.log(node2.offset());
</code></pre>
<h3>AgGraphNode实例属性</h3>
<h5>agGraph</h5>
<ul>
<li>输出  <code>AgGraph</code> // 节点所属的 AgGraph实例</li>
</ul>
<h6>$node</h6>
<ul>
<li>输出 <code>d3.selection</code> // 节点对应的d3元素</li>
</ul>
<h5>anchorPoints</h5>
<ul>
<li>输出 <code>AgGraphPoint[]</code> // 连接节点的连线中停靠在节点上的点，节点移动时，这些点也会移动</li>
</ul>
<h5>id</h5>
<ul>
<li>输出  <code>string</code> // 节点的id</li>
</ul>
<h5>lines</h5>
<ul>
<li>输出  <code>AgGraphLine[]</code> // 连接节点的所有连线</li>
</ul>
<h5>badge</h5>
<ul>
<li>输出  <code>string</code> // 节点的徽章文本</li>
</ul>
<h5>image</h5>
<ul>
<li>输出  <code>string</code> // 节点图片的地址</li>
</ul>
<h5>selected</h5>
<ul>
<li>输出  <code>boolean</code> // 节点的是否被选中</li>
</ul>
<h5>size</h5>
<ul>
<li>输出  <code>number</code> // 节点的大小</li>
</ul>
<h5>selected</h5>
<ul>
<li>输出  <code>string</code> // 节点的id</li>
</ul>
<h5>text</h5>
<ul>
<li>输出  <code>string</code> // 节点的文本</li>
</ul>
<h5>x</h5>
<ul>
<li>输出  <code>number</code> // 节点在graph上x轴的位置</li>
</ul>
<h5>y</h5>
<ul>
<li>输出  <code>number</code> // 节点在graph上y轴的位置</li>
</ul>
<h3>AgGraphLine实例方法</h3>
<h5>delete</h5>
<p>删除连线</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line1=agGraph.getNode(&quot;l1&quot;);
line1.delete();
</code></pre>
<h3>AgGraphLine实例属性</h3>
<h5>agGraph</h5>
<ul>
<li>输出  <code>AgGraph</code> // 连线所属的 AgGraph实例</li>
</ul>
<h6>$line</h6>
<ul>
<li>输出 <code>d3.selection</code> // 连线对应的d3元素</li>
</ul>
<h6>animate</h6>
<ul>
<li>输出 <code>boolean</code> // 绘制连线时是否有动画效果</li>
</ul>
<h5>id</h5>
<ul>
<li>输出  <code>string</code> // 连线的id</li>
</ul>
<h5>points</h5>
<ul>
<li>输出  <code>AgGraphPoint[]</code> // 连线上的所有点</li>
</ul>
<h5>pointsData</h5>
<ul>
<li>输出  <code>{&quot;x&quot;:number,&quot;y&quot;:number}[]</code> // 连线上点的原始数据</li>
</ul>
<h5>source</h5>
<ul>
<li>输出  <code>string</code> // 连线开始节点id</li>
</ul>
<h5>sourceNode</h5>
<ul>
<li>输出  <code>AgGraphNode</code> // 连线开始节点</li>
</ul>
<h5>target</h5>
<ul>
<li>输出  <code>string</code> // 连线结束节点id</li>
</ul>
<h5>targetNode</h5>
<ul>
<li>输出  <code>AgGraphNode</code> // 连线结束节点</li>
</ul>
<h5>class</h5>
<ul>
<li>输出  <code>string[]</code> // 连线自定义样式</li>
</ul>
<h5>selected</h5>
<ul>
<li>输出  <code>boolean</code> // 连线选择状态</li>
</ul>
<h5>text</h5>
<ul>
<li>输出  <code>string</code> // 连线的文本</li>
</ul>
<h3>AgGraphPoint实例方法</h3>
<h5>delete</h5>
<p>删除连线</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var line1=agGraph.getNode(&quot;l1&quot;);
line1.points[1].delete();
</code></pre>
<h3>AgGraphPoint实例属性</h3>
<h6>$point</h6>
<ul>
<li>输出 <code>d3.selection</code> // 点对应的d3元素</li>
</ul>
<h6>anchorNode</h6>
<ul>
<li>输出 <code>AgGraphNode</code> // 点停靠的节点 ，anchorNode 移动时，该点也会移动。</li>
</ul>
<h6>line</h6>
<ul>
<li>输出 <code>AgGraphLine</code> // 点所在的连线</li>
</ul>
<h6>pointData</h6>
<ul>
<li>输出 <code>{&quot;x&quot;:number,&quot;y&quot;:number}</code> // 点的源数据</li>
</ul>
<h6>pointData</h6>
<ul>
<li>输出 <code>{&quot;x&quot;:number,&quot;y&quot;:number}</code> // 点的源数据</li>
</ul>
<h6>selected</h6>
<ul>
<li>输出 <code>boolean</code> // 点的选中状态</li>
</ul>
<h5>x</h5>
<ul>
<li>输出  <code>number</code> // 点在graph上x轴的位置</li>
</ul>
<h5>y</h5>
<ul>
<li>输出  <code>number</code> // 点在graph上y轴的位置</li>
</ul>
<h3>AgGraphPath实例方法</h3>
<h5>delete</h5>
<p>删除连线</p>
<ul>
<li>输入 无</li>
<li>输出 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">var path1=agGraph.getPath(&quot;p1&quot;);
if(path1){
    path1.delete();
}
</code></pre>
<h3>AgGraphPath实例属性</h3>
<h6>id</h6>
<ul>
<li>输出  <code>string</code> // 路径的id</li>
</ul>
<h6>$path</h6>
<ul>
<li>输出 <code>d3.selection</code> // 路径对应的d3元素</li>
</ul>
<h6>agGraph</h6>
<ul>
<li>输出  <code>AgGraph</code> // 连线所属的 AgGraph实例</li>
</ul>
<h6>repeat</h6>
<ul>
<li>输出 <code>boolean</code> // 是否重复播放动画</li>
</ul>
<h6>source</h6>
<ul>
<li>输出 <code>string</code> // 开始的节点id</li>
</ul>
<h6>target</h6>
<ul>
<li>输出 <code>string</code> // 结束的节点id</li>
</ul>
<h6>class</h6>
<ul>
<li>输出 <code>string[]</code> // 自定义的样式</li>
</ul>
<h3>Event</h3>
<p>AgGraph实例的各种event</p>
<h5>node.add</h5>
<p>添加节点</p>
<ul>
<li>参数  <code>node:AgGraphNode</code> // 添加的节点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;node.add&quot;,function(node){
	console.log(node);
});
</code></pre>
<h5>node.delete</h5>
<p>删除节点</p>
<ul>
<li>参数  <code>node:AgGraphNode</code> // 删除的节点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;node.delete&quot;,function(node){
	console.log(node);
});
</code></pre>
<h5>node.move</h5>
<p>移动节点</p>
<ul>
<li>参数  <code>node:AgGraphNode</code> // 移动的节点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;node.move&quot;,function(node){
	console.log(node);
});
</code></pre>
<h5>node.click</h5>
<p>点击节点</p>
<ul>
<li>参数  <code>node:AgGraphNode</code> // 点击的节点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;node.click&quot;,function(node){
	console.log(node);
});
</code></pre>
<h5>node.rightClick</h5>
<p>右键节点</p>
<ul>
<li>参数  <code>node:AgGraphNode</code> // 右键的节点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;node.rightClick&quot;,function(node){
	console.log(node);
});
</code></pre>
<h5>line.add</h5>
<p>添加连线</p>
<ul>
<li>参数  <code>line:AgGraphLine</code> // 添加的连线实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;line.add&quot;,function(line){
	console.log(line);
});
</code></pre>
<h5>line.delete</h5>
<p>删除连线</p>
<ul>
<li>参数  <code>line:AgGraphLine</code> // 删除的连线实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;line.delete&quot;,function(line){
	console.log(line);
});
</code></pre>
<h5>line.click</h5>
<p>点击连线</p>
<ul>
<li>参数  <code>line:AgGraphLine</code> // 点击的连线实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;line.click&quot;,function(line){
	console.log(line);
});
</code></pre>
<h5>line.rightClick</h5>
<p>右键连线</p>
<ul>
<li>参数  <code>line:AgGraphLine</code> // 右键的连线实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;line.rightClick&quot;,function(line){
	console.log(line);
});
</code></pre>
<h5>point.add</h5>
<p>添加连线上的点</p>
<ul>
<li>参数  <code>point:AgGraphNode</code> // 添加的点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;point.add&quot;,function(point){
	console.log(point);
});
</code></pre>
<h5>point.delete</h5>
<p>删除点</p>
<ul>
<li>参数  <code>point:AgGraphNode</code> // 删除的点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;point.delete&quot;,function(point){
	console.log(point);
});
</code></pre>
<h5>point.move</h5>
<p>移动点</p>
<ul>
<li>参数  <code>point:AgGraphNode</code> // 移动的点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;point.move&quot;,function(point){
	console.log(point);
});
</code></pre>
<h5>point.click</h5>
<p>点击点</p>
<ul>
<li>参数  <code>point:AgGraphNode</code> // 点击的点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;point.click&quot;,function(point){
	console.log(point);
});
</code></pre>
<h5>point.rightClick</h5>
<p>右键点</p>
<ul>
<li>参数  <code>point:AgGraphNode</code> // 右键的点实例</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;point.rightClick&quot;,function(point){
	console.log(point);
});
</code></pre>
<h5>view.move</h5>
<p>移动视图</p>
<ul>
<li>参数  <code>view:AgGraphView</code> // 移动的视图</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;view.move&quot;,function(view){
	console.log(view.viewBox);
});
</code></pre>
<h5>view.zoom</h5>
<p>缩放视图</p>
<ul>
<li>参数  <code>view:AgGraphView</code> // 缩放的视图</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;view.zoom&quot;,function(view){
	console.log(view.scale);
});
</code></pre>
<h5>view.click</h5>
<p>点击视图</p>
<ul>
<li>参数  <code>view:AgGraphView</code> // 点击的视图</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;view.click&quot;,function(view){
	console.log(view);
});
</code></pre>
<h5>view.rightClick</h5>
<p>右键视图</p>
<ul>
<li>参数  <code>view:AgGraphView, position:{&quot;x&quot;:number,&quot;y&quot;:number}, offset:{&quot;x&quot;:number,&quot;y&quot;:number}</code> // 右键的视图, 相对定位父元素的偏移, 相对浏览器视窗的偏移</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;view.rightClick&quot;,function(view, position, offset){
	console.log(view, position, offset);
});
</code></pre>
<h5>selection.node.add</h5>
<p>节点添加到选择状态</p>
<ul>
<li>参数  <code>selectedNodes:AgGraphNode[],node:AgGraphNode</code> // 所有选中的节点,添加的节点</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.node.add&quot;,function(selectedNodes,node){
	console.log(selectedNodes,node);
});
</code></pre>
<h5>selection.node.remove</h5>
<p>节点移除选择状态</p>
<ul>
<li>参数  <code>selectedNodes:AgGraphNode[],node:AgGraphNode</code> // 所有选中的节点,移除的节点</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.node.remove&quot;,function(selectedNodes,node){
	console.log(selectedNodes,node);
});
</code></pre>
<h5>selection.node.clear</h5>
<p>移除所有节点选择状态</p>
<ul>
<li>参数 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.node.clear&quot;,function(){
	console.log(agGraph.selection.nodes());
});
</code></pre>
<h5>selection.line.add</h5>
<p>连线添加到选择状态</p>
<ul>
<li>参数  <code>selectedLines:AgGraphLine[],line:AgGraphLine</code> // 所有选中的连线,添加的连线</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.line.add&quot;,function(selectedLines,line){
	console.log(selectedLines,line);
});
</code></pre>
<h5>selection.line.remove</h5>
<p>连线移除选择状态</p>
<ul>
<li>参数  <code>selectedLines:AgGraphLine[],line:AgGraphLine</code> // 所有选中的连线,移除的连线</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.line.remove&quot;,function(selectedLines,line){
	console.log(selectedLines,line);
});
</code></pre>
<h5>selection.line.clear</h5>
<p>移除所有连线选择状态</p>
<ul>
<li>参数 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.line.clear&quot;,function(){
	console.log(agGraph.selection.lines());
});
</code></pre>
<h5>selection.point.add</h5>
<p>节点添加到选择状态</p>
<ul>
<li>参数  <code>selectedPoints:AgGraphPoint[],point:AgGraphPoint</code> // 所有选中的节点,添加的节点</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.point.add&quot;,function(selectedPoints,point){
	console.log(selectedPoints,point);
});
</code></pre>
<h5>selection.point.remove</h5>
<p>节点移除选择状态</p>
<ul>
<li>参数  <code>selectedPoints:AgGraphPoint[],point:AgGraphPoint</code> // 所有选中的节点,移除的节点</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.point.remove&quot;,function(selectedPoints,point){
	console.log(selectedPoints,point);
});
</code></pre>
<h5>selection.point.clear</h5>
<p>移除所有节点选择状态</p>
<ul>
<li>参数 无</li>
<li>例</li>
</ul>
<pre><code class="language-javascript">agGraph.on(&quot;selection.node.clear&quot;,function(){
	console.log(agGraph.selection.points());
});
</code></pre>
<!--readme.md-end-->
  </div>

</body>
</html>
